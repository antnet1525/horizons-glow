<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>horizons-glow</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(to bottom, #1a4d6d, #2d5f7e);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            position: relative;
            overflow: hidden;
        }

        /* Snowfall animation */
        .snowflake {
            position: fixed;
            color: white;
            font-size: 1em;
            animation: fall linear infinite;
            opacity: 0.8;
            pointer-events: none;
            will-change: transform;
        }

        @keyframes fall {
            from {
                transform: translateY(-10px);
            }
            to {
                transform: translateY(110vh);
            }
        }

        .container {
            position: relative;
            z-index: 1;
            text-align: center;
        }

        h1 {
            color: #fff;
            font-size: 2.5em;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            display: none;
        }

        .tree-container {
            position: relative;
            width: 400px;
            height: 500px;
            margin: 0 auto;
        }

        /* Christmas Tree - more detailed with layers */
        .tree {
            position: absolute;
            bottom: 50px;
            left: 50%;
            transform: translateX(-50%);
        }

        .tree-layer {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
        }

        .layer1 {
            bottom: 300px;
            width: 0;
            height: 0;
            border-left: 80px solid transparent;
            border-right: 80px solid transparent;
            border-bottom: 120px solid #1d4d2f;
        }

        .layer2 {
            bottom: 230px;
            width: 0;
            height: 0;
            border-left: 110px solid transparent;
            border-right: 110px solid transparent;
            border-bottom: 140px solid #2d5f3f;
        }

        .layer3 {
            bottom: 140px;
            width: 0;
            height: 0;
            border-left: 140px solid transparent;
            border-right: 140px solid transparent;
            border-bottom: 160px solid #3d7f5f;
        }

        .layer4 {
            bottom: 0;
            width: 0;
            height: 0;
            border-left: 170px solid transparent;
            border-right: 170px solid transparent;
            border-bottom: 180px solid #4d9f7f;
        }

        /* Tree trunk */
        .trunk {
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 50px;
            height: 60px;
            background: linear-gradient(to right, #4a2f1a, #5d4037, #4a2f1a);
            border-radius: 5px;
            box-shadow: inset -2px 0 5px rgba(0,0,0,0.3);
            z-index: 1;
        }

        /* Tree layers - bring to front */
        .tree {
            z-index: 2;
        }

        /* Tree star */
        .star {
            position: absolute;
            top: -5px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 50px;
            color: #FFD369;
            filter: drop-shadow(0 0 10px rgba(255, 211, 105, 0.6));
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 10;
        }

        .star.locked {
            opacity: 0.3;
            filter: grayscale(100%) drop-shadow(0 0 5px #666);
            cursor: not-allowed;
        }

        .star.unlocked {
            animation: twinkle 1.5s ease-in-out infinite;
            text-shadow: 
                0 0 12px rgba(255, 211, 105, 0.6),
                0 0 32px rgba(255, 211, 105, 0.4);
        }

        .star.unlocked:hover {
            transform: translateX(-50%) scale(1.2);
        }

        @keyframes twinkle {
            0%, 100% { opacity: 1; transform: translateX(-50%) scale(1); }
            50% { opacity: 0.7; transform: translateX(-50%) scale(1.1); }
        }

        /* Ornaments */
        .ornament {
            position: absolute;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
            z-index: 5;
        }

        .ornament.locked {
            background: #333;
            opacity: 0.3;
            cursor: not-allowed;
            filter: grayscale(100%);
        }

        .ornament.unlocked {
            animation: sparkle 2s ease-in-out infinite;
        }

        .ornament.unlocked:hover {
            transform: scale(1.2);
        }

        @keyframes sparkle {
            0%, 100% { filter: brightness(1); }
            50% { filter: brightness(1.3); }
        }

        /* Ornament positions - accounting for star, tree, and trunk being children 1-3 */
        .ornament:nth-child(4) { bottom: 50px; left: 50%; margin-left: 95px; background: #000000; }
        .ornament:nth-child(5) { bottom: 75px; left: 50%; margin-left: -90px; background: #EDEFF3; }
        .ornament:nth-child(6) { bottom: 105px; left: 50%; margin-left: 20px; background: #F2F2EE; }
        .ornament:nth-child(7) { bottom: 160px; left: 50%; margin-left: -30px; background: #F5EEDC; }
        .ornament:nth-child(8) { bottom: 185px; left: 50%; margin-left: -110px; background: #F4D6D9; }
        .ornament:nth-child(9) { bottom: 200px; left: 50%; margin-left: 40px; background: #F1B7C2; }
        .ornament:nth-child(10) { bottom: 255px; left: 50%; margin-left: -50px; background: #C7B7D9; }
        .ornament:nth-child(11) { bottom: 280px; left: 50%; margin-left: 55px; background: #8E7AB5; }
        .ornament:nth-child(12) { bottom: 315px; left: 50%; margin-left: -70px; background: #9E2A2B; }
        .ornament:nth-child(13) { bottom: 350px; left: 50%; margin-left: 10px; background: #F08A5D; }
        .ornament:nth-child(14) { bottom: 400px; left: 50%; margin-left: -30px; background: #F6C945; }

        .message {
            margin: 30px auto 0;
            padding: 20px 40px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            font-size: 1.3em;
            color: #2d5f3f;
            box-shadow: 0 4px 6px rgba(0,0,0,0.2);
            max-width: 500px;
            text-align: center;
        }

        .date-info {
            margin-top: 20px;
            padding: 20px;
            color: #fff;
            font-size: 1.1em;
            text-align: center;
            min-height: 150px;
        }

        .progress {
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 15px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
        }

        #countdownSection {
            margin-top: 15px;
        }

        .countdown-label {
            font-size: 1em;
            margin-bottom: 8px;
            opacity: 0.9;
        }

        .countdown {
            font-size: 1.5em;
            font-weight: bold;
            font-family: 'Courier New', monospace;
            background: rgba(0,0,0,0.2);
            padding: 10px 20px;
            border-radius: 10px;
            display: inline-block;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Tree</h1>
        
        <div class="tree-container">
            <div class="star locked" id="star">‚≠ê</div>
            <div class="tree">
                <div class="tree-layer layer1"></div>
                <div class="tree-layer layer2"></div>
                <div class="tree-layer layer3"></div>
                <div class="tree-layer layer4"></div>
            </div>
            <div class="trunk"></div>
            
            <!-- 11 Ornaments -->
            <div class="ornament locked">üéÅ</div>
            <div class="ornament locked">‚ùÑÔ∏è</div>
            <div class="ornament locked">üéÖ</div>
            <div class="ornament locked">üéÑ</div>
            <div class="ornament locked">üîî</div>
            <div class="ornament locked">üïØÔ∏è</div>
            <div class="ornament locked">üéÄ</div>
            <div class="ornament locked">üß¶</div>
            <div class="ornament locked">ü¶å</div>
            <div class="ornament locked">‚òÉÔ∏è</div>
            <div class="ornament locked">üé∫</div>
        </div>

        <div class="message">Click the available ornaments on the tree!</div>
        
        <div class="date-info">
            <div class="progress" id="progress"></div>
            <div id="countdownSection">
                <div class="countdown-label">Next ornament unlocks in:</div>
                <div class="countdown" id="countdown">--:--:--</div>
            </div>
        </div>
    </div>

    <script>
        // Create snowflakes
        function createSnowflakes() {
            const snowflakeCount = 50;
            for (let i = 0; i < snowflakeCount; i++) {
                const snowflake = document.createElement('div');
                snowflake.className = 'snowflake';
                snowflake.innerHTML = '‚ùÑ';
                const leftPos = Math.random() * 100;
                const startTop = -(Math.random() * 100);
                const duration = Math.random() * 3 + 2;
                const delay = -(Math.random() * duration);
                
                snowflake.style.left = leftPos + '%';
                snowflake.style.top = startTop + 'vh';
                snowflake.style.animationDuration = duration + 's';
                snowflake.style.animationDelay = delay + 's';
                snowflake.style.fontSize = (Math.random() * 0.5 + 0.5) + 'em';
                document.body.appendChild(snowflake);
            }
        }

        // Update countdown timer
        function updateCountdown() {
            const startDate = new Date('2025-12-25T21:00:00');
            const now = new Date();
            
            const daysPassed = Math.floor((now - startDate) / (1000 * 60 * 60 * 24));
            
            let unlockedCount = 0;
            if (now >= startDate) {
                unlockedCount = daysPassed + 1;
            }
            
            // If all items unlocked, hide countdown
            if (unlockedCount >= 12) {
                const countdownEl = document.getElementById('countdownSection');
                if (countdownEl) countdownEl.style.display = 'none';
                return;
            }
            
            // Show countdown
            const countdownEl = document.getElementById('countdownSection');
            if (countdownEl) countdownEl.style.display = 'block';
            
            // Calculate next unlock time
            let nextUnlock;
            if (now < startDate) {
                nextUnlock = startDate;
            } else {
                nextUnlock = new Date(startDate);
                nextUnlock.setDate(nextUnlock.getDate() + unlockedCount);
            }
            
            const timeRemaining = nextUnlock - now;
            
            if (timeRemaining <= 0) {
                updateOrnaments();
                return;
            }
            
            const hours = Math.floor(timeRemaining / (1000 * 60 * 60));
            const minutes = Math.floor((timeRemaining % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((timeRemaining % (1000 * 60)) / 1000);
            
            const countdownText = document.getElementById('countdown');
            if (countdownText) {
                countdownText.textContent = 
                    `${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
            }
        }

        // Calculate which ornaments should be unlocked
        function updateOrnaments() {
            const startDate = new Date('2025-12-25T21:00:00');
            const now = new Date();
            
            console.log('Current time:', now);
            console.log('Start date:', startDate);
            
            const daysPassed = Math.floor((now - startDate) / (1000 * 60 * 60 * 24));
            console.log('Days passed:', daysPassed);
            
            let unlockedCount = 0;
            if (now >= startDate) {
                unlockedCount = daysPassed + 1;
            }
            
            console.log('Unlocked count:', unlockedCount);
            
            // Update ornaments (11 ornaments)
            const ornaments = document.querySelectorAll('.ornament');
            ornaments.forEach((ornament, index) => {
                if (index < unlockedCount) {
                    ornament.classList.remove('locked');
                    ornament.classList.add('unlocked');
                } else {
                    ornament.classList.add('locked');
                    ornament.classList.remove('unlocked');
                }
            });

            // Update star (unlocks on day 12)
            const star = document.getElementById('star');
            if (unlockedCount > 11) {
                star.classList.remove('locked');
                star.classList.add('unlocked');
            } else {
                star.classList.add('locked');
                star.classList.remove('unlocked');
            }

            // Update progress
            const totalItems = 12;
            const currentUnlocked = Math.min(unlockedCount, totalItems);
            
            const progressEl = document.getElementById('progress');
            const countdownEl = document.getElementById('countdownSection');
            
            if (currentUnlocked >= totalItems) {
                if (progressEl) progressEl.textContent = 'All items unlocked! :)';
                if (countdownEl) countdownEl.style.display = 'none';
            } else if (now < startDate) {
                if (progressEl) progressEl.textContent = `0 / ${totalItems} items unlocked`;
            } else {
                if (progressEl) progressEl.textContent = `${currentUnlocked} / ${totalItems} items unlocked`;
            }
            
            updateCountdown();
        }

        // Add click handlers to ornaments
        document.querySelectorAll('.ornament').forEach((ornament, index) => {
            ornament.addEventListener('click', function() {
                if (this.classList.contains('unlocked')) {
                    // Black ornament (first ornament, index 0)
                    if (index === 0) {
                        window.location.href = 'black_ornament.html';
                    } 
                    // Moon White ornament (second ornament, index 1)
                    else if (index === 1) {
                        window.location.href = 'moon_white_ornament.html';
                    } 
                    else {
                        alert('You clicked an ornament!');
                    }
                } else {
                    alert('This ornament is still locked!');
                }
            });
        });

        // Add click handler to star
        document.getElementById('star').addEventListener('click', function() {
            if (this.classList.contains('unlocked')) {
                alert('You unlocked the star!');
            } else {
                alert('The star is still locked!');
            }
        });

        // Initialize
        createSnowflakes();
        updateOrnaments();

        // Update countdown every second
        setInterval(updateCountdown, 1000);
        
        // Check for new unlocks every minute
        setInterval(updateOrnaments, 60 * 1000);
    </script>
</body>
</html>